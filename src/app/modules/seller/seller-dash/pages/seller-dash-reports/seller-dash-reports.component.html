<div class="query-content mr-3">
  <div class="serice-orders pt-3">
    <H4 style="font-weight: bold; color: darkmagenta;">
      Reports: Sales. Earnings & Payments
    </H4>
    <p>This section will generate Sales, orders and earning based reports.</p>
    <hr />
    <mat-tab-group mat-align-tabs="center">
      <!--servie order report-->
      <mat-tab label="Sales Reports">
        <div
          class="container-fluid"
          style="width: 600px;"
          *ngIf="selectedSOReport == false"
        >
          <div class="rep-part">
            <p>Select Filters..</p>
            <br />
            <div class="row container-fluid pt-3">
              <div class="col-md-6 text-center">
                <mat-form-field class="mfield">
                  <mat-label> Report From Date : </mat-label>
                  <input
                    matInput
                    [matDatepicker]="picker1"
                    required
                    name="from_date"
                    [(ngModel)]="productOrder.from_date"
                    #fDate="ngModel"
                    (dateChange)="productOrder.to_date = productOrder.from_date"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker1"
                  ></mat-datepicker-toggle>
                  <mat-datepicker
                    #picker1
                    [startAt]="productOrder.from_date"
                  ></mat-datepicker>
                  <mat-error *ngIf="fDate.invalid"
                    >Please select a date</mat-error
                  >
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field class="mfield">
                  <mat-label> Report To Date : </mat-label>
                  <input
                    matInput
                    [matDatepicker]="picker2"
                    required
                    name="to_date"
                    [(ngModel)]="productOrder.to_date"
                    #tDate="ngModel"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker2"
                  ></mat-datepicker-toggle>
                  <mat-datepicker
                    #picker2
                    [startAt]="productOrder.to_date"
                  ></mat-datepicker>
                  <mat-error *ngIf="tDate.invalid"
                    >Please select a date</mat-error
                  >
                </mat-form-field>
              </div>
            </div>
            <hr />
            <span style="color: darkmagenta;"> By Product</span><br />
            <mat-form-field class="mfield">
              <mat-label>Select a Product</mat-label>
              <mat-select
                required
                name="service"
                #merchantSelect="ngModel"
                [(ngModel)]="productOrder.product_id"
              >
                <mat-option value="all"> All </mat-option>
                <mat-option [value]="s.product_id" *ngFor="let s of spnames">
                  {{ s.product }}</mat-option
                >
              </mat-select>
              <mat-error *ngIf="merchantSelect.invalid"
                >Please select a Product or All
              </mat-error>
            </mat-form-field>
            <br />
            <span style="color: darkmagenta;"> By Order Type</span><br />
            <mat-form-field class="mfield">
              <mat-label>Select a Order Type</mat-label>
              <mat-select
                required
                name="order_type"
                #typeSelect="ngModel"
                [(ngModel)]="productOrder.order_type"
              >
                <mat-option value="all"> All Orders </mat-option>
                <mat-option value="delivered"> Delivered Orders </mat-option>
                <mat-option value="pending"> Pendinng Orders </mat-option>
                <mat-option value="cancelled"> Cancelled Orders </mat-option>
              </mat-select>
              <mat-error *ngIf="typeSelect.invalid"
                >Please select a Order Type or All
              </mat-error>
            </mat-form-field>
            <br />
          </div>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedSOReport = true"
            >
              Generate Sales Order report
            </button>
          </div>
        </div>

        <!-- generatedd report-->
        <div class="report-sorder" *ngIf="selectedSOReport == true">
          <app-seller-orders-report
            [productOrder]="productOrder"
            [spId]="spId"
          ></app-seller-orders-report>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedSOReport = false"
            >
              Go Back
            </button>
          </div>
        </div>
      </mat-tab>

      <!--payments and earnings-->
      <mat-tab label="Payments & Earnings">
        <div
          class="container-fluid"
          style="width: 600px;"
          *ngIf="selectedPEReport == false"
        >
          <div class="rep-part">
            <p>Select Filters..</p>
            <br />
            <div class="row container-fluid pt-3">
              <div class="col-md-6 text-center">
                <mat-form-field class="mfield">
                  <mat-label> Report From Date : </mat-label>
                  <input
                    matInput
                    [matDatepicker]="picker5"
                    required
                    name="from_date_3"
                    [(ngModel)]="paymentEarning.from_date"
                    #fDate3="ngModel"
                    (dateChange)="
                      paymentEarning.to_date = paymentEarning.from_date
                    "
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker5"
                  ></mat-datepicker-toggle>
                  <mat-datepicker
                    #picker5
                    [startAt]="paymentEarning.from_date"
                  ></mat-datepicker>
                  <mat-error *ngIf="fDate3.invalid"
                    >Please select a date</mat-error
                  >
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field class="mfield">
                  <mat-label> Report To Date : </mat-label>
                  <input
                    matInput
                    [matDatepicker]="picker6"
                    required
                    name="to_date3"
                    [(ngModel)]="paymentEarning.to_date"
                    #tDate3="ngModel"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker6"
                  ></mat-datepicker-toggle>
                  <mat-datepicker
                    #picker6
                    [startAt]="paymentEarning.to_date"
                  ></mat-datepicker>
                  <mat-error *ngIf="tDate3.invalid"
                    >Please select a date</mat-error
                  >
                </mat-form-field>
              </div>
            </div>
            <hr />
            <span style="color: darkmagenta;"> By Product</span><br />
            <mat-form-field class="mfield">
              <mat-label>Select a Product</mat-label>
              <mat-select
                required
                name="service3"
                #merchantSelect3="ngModel"
                [(ngModel)]="paymentEarning.product_id"
              >
                <mat-option value="all"> All </mat-option>
                <mat-option [value]="s.product_id" *ngFor="let s of spnames">
                  {{ s.product }}</mat-option
                >
              </mat-select>
              <mat-error *ngIf="merchantSelect3.invalid"
                >Please select a Service or All
              </mat-error>
            </mat-form-field>
            <br />
            <span style="color: darkmagenta;"> Earning Greater than > </span
            ><br />
            <mat-form-field class="mfield">
              <mat-label>Enter an amount</mat-label>
              <input
                matInput
                type="number"
                required
                [(ngModel)]="paymentEarning.earning"
                #earnings="ngModel"
                name="earnings"
              />
              <mat-error *ngIf="earnings.invalid"
                >Please enter valid amount
              </mat-error>
            </mat-form-field>
            <br />
            <span style="color: darkmagenta;"> Payments Greater than ></span
            ><br />
            <mat-form-field class="mfield">
              <mat-label>Enter an amount</mat-label>
              <input
                matInput
                type="number"
                required
                [(ngModel)]="paymentEarning.payment"
                #payments="ngModel"
                name="payments"
              />
              <mat-error *ngIf="payments.invalid"
                >Please enter valid amount
              </mat-error>
            </mat-form-field>
            <br />
          </div>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedPEReport = true"
            >
              Generate Payment & Earning report
            </button>
          </div>
        </div>

        <!-- generatedd report-->
        <div class="report-sorder" *ngIf="selectedPEReport == true">
          <app-seller-payments-report
            [paymentEarning]="paymentEarning"
            [spId]="spId"
          ></app-seller-payments-report>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedPEReport = false"
            >
              Go Back
            </button>
          </div>
        </div>
      </mat-tab>

      <!--business forecasting-->
      <mat-tab label="Product details summary">
        <div
          class="container-fluid"
          style="width: 600px;"
          *ngIf="selectedSDReport == false"
        >
          <div class="rep-part">
            <p>Select Filters..</p>
            <br />

            <span style="color: darkmagenta;"> By Product</span><br />
            <mat-form-field class="mfield">
              <mat-label>Select a Product</mat-label>
              <mat-select
                required
                name="service4"
                #merchantSelect4="ngModel"
                [(ngModel)]="productDetails.product_id"
              >
                <mat-option value="all"> All </mat-option>
                <mat-option [value]="s.product_id" *ngFor="let s of spnames">
                  {{ s.product }}</mat-option
                >
              </mat-select>
              <mat-error *ngIf="merchantSelect4.invalid"
                >Please select a Product or All
              </mat-error>
            </mat-form-field>
            <br />
            <span style="color: darkmagenta;"> Earning Greater than > </span
            ><br />
            <mat-form-field class="mfield">
              <mat-label>Enter an amount</mat-label>
              <input
                matInput
                type="number"
                required
                [(ngModel)]="productDetails.earning"
                #earnings2="ngModel"
                name="earnings2"
              />
              <mat-error *ngIf="earnings2.invalid"
                >Please enter valid amount
              </mat-error>
            </mat-form-field>
            <br />
          </div>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedSDReport = true"
            >
              Generate Product Details report
            </button>
          </div>
        </div>

        <!-- generatedd report-->
        <div class="report-sorder" *ngIf="selectedSDReport == true">
          <app-seller-product-details-report
            [productDetails]="productDetails"
            [spId]="spId"
          ></app-seller-product-details-report>
          <div class="text-center pt-2">
            <button
              mdbBtn
              color="secondary"
              class="btn btn-md edtbt"
              mdbWavesEffect
              (click)="selectedSDReport = false"
            >
              Go Back
            </button>
          </div>
        </div>
      </mat-tab>

      <!--business forevcasting report-->
      <mat-tab label="Business Forecasting"> </mat-tab>
    </mat-tab-group>
  </div>
</div>
